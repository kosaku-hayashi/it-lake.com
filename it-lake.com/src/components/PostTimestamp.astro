---
interface DateEntry {
  datetime: string;
  iconPath: string;
  label: string;
}

interface Props {
  pubDate?: string;
  updateDate?: string;
}

const { pubDate, updateDate } = Astro.props as Props;

const dates: DateEntry[] = [];

if (pubDate) {
  dates.push({
    datetime: pubDate,
    iconPath: "m612-292 56-56-148-148v-184h-80v216l172 172ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q133 0 226.5-93.5T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160Z",
    label: "公開日"
  });
}

if (updateDate) {
  dates.push({
    datetime: updateDate,
    iconPath: "M480-120q-138 0-240.5-91.5T122-440h82q14 104 92.5 172T480-200q117 0 198.5-81.5T760-480q0-117-81.5-198.5T480-760q-69 0-129 32t-101 88h110v80H120v-240h80v94q51-64 124.5-99T480-840q75 0 140.5 28.5t114 77q48.5 48.5 77 114T840-480q0 75-28.5 140.5t-77 114q-48.5 48.5-114 77T480-120Zm112-192L440-464v-216h80v184l128 128-56 56Z",
    label: "更新日"
  });
}
---
{dates.length > 0 && (
  <div style="display: flex; align-items: center; gap: 4px;">
    {dates.map((date, index) => (
      <div style="display: flex; align-items: center; gap: 2px;">
        <svg xmlns="http://www.w3.org/2000/svg" height="16px" width="16px" viewBox="0 -960 960 960" fill="currentColor" style="margin-bottom: 2px;">
          <path d={date.iconPath}></path>
        </svg>
        <time datetime={date.datetime} aria-label={date.label}>{date.datetime}</time>
      </div>
    ))}
  </div>
)}